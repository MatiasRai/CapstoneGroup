<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>

    <ion-title>Registro de Empresa</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">
  <h2 style="text-align: center; margin-bottom: 20px;">Registrar Empresa</h2>

  <form (ngSubmit)="onRegistrar()" #formEmpresa="ngForm">

    
    <ion-item [class.invalid]="nombre.invalid && nombre.touched">
      <ion-label position="floating">Nombre de la Empresa *</ion-label>
      <ion-input
        [(ngModel)]="empresa.nombre_empresa"
        name="nombre_empresa"
        #nombre="ngModel"
        required>
      </ion-input>
    </ion-item>
    <div class="error-text" *ngIf="nombre.invalid && nombre.touched">
      El nombre es obligatorio.
    </div>

    
    <ion-item [class.invalid]="direccion.invalid && direccion.touched">
      <ion-label position="floating">Dirección *</ion-label>
      <ion-input
        [(ngModel)]="empresa.direccion_empresa"
        name="direccion_empresa"
        #direccion="ngModel"
        required>
      </ion-input>
    </ion-item>
    <div class="error-text" *ngIf="direccion.invalid && direccion.touched">
      La dirección es obligatoria.
    </div>

    
    <ion-item [class.invalid]="telefono.invalid && telefono.touched">
      <ion-label position="floating">Teléfono *</ion-label>
      <ion-input
        type="tel"
        [(ngModel)]="empresa.telefono"
        name="telefono"
        #telefono="ngModel"
        required
        pattern="^(\+?56)?\s?9?\s?\d{8}$"
        inputmode="numeric">
      </ion-input>
    </ion-item>
    <div class="error-text" *ngIf="telefono.invalid && telefono.touched">
      Teléfono inválido. Ej: +56912345678 o 912345678.
    </div>

    
    <ion-item [class.invalid]="descripcion.invalid && descripcion.touched">
      <ion-label position="floating">Descripción *</ion-label>
      <ion-input
        [(ngModel)]="empresa.descripcion_empresa"
        name="descripcion_empresa"
        #descripcion="ngModel"
        required
        minlength="10">
      </ion-input>
    </ion-item>
    <div class="error-text" *ngIf="descripcion.invalid && descripcion.touched">
      La descripción debe tener mínimo 10 caracteres.
    </div>

    
    <ion-item [class.invalid]="horarios.invalid && horarios.touched">
      <ion-label position="floating">Horarios *</ion-label>
      <ion-input
        [(ngModel)]="empresa.horarios"
        name="horarios"
        #horarios="ngModel"
        required>
      </ion-input>
    </ion-item>
    <div class="error-text" *ngIf="horarios.invalid && horarios.touched">
      Los horarios son obligatorios.
    </div>

    
    <ion-item [class.invalid]="sitio_web.invalid && sitio_web.touched">
      <ion-label position="floating">Sitio Web (Opcional)</ion-label>
      <ion-input
        [(ngModel)]="empresa.sitio_web"
        name="sitio_web"
        #sitio_web="ngModel"
        pattern="^(https?:\/\/)?(www\.)?[\w\-]+\.\w{2,}(\/\S*)?$">
      </ion-input>
    </ion-item>
    <div class="error-text" *ngIf="sitio_web.invalid && sitio_web.touched">
      El sitio web no es válido. Ej: https://empresa.cl
    </div>

    
    <ion-item [class.invalid]="correo.invalid && correo.touched">
      <ion-label position="floating">Correo *</ion-label>
      <ion-input
        type="email"
        [(ngModel)]="empresa.Correo"
        name="Correo"
        #correo="ngModel"
        required
        email>
      </ion-input>
    </ion-item>
    <div class="error-text" *ngIf="correo.invalid && correo.touched">
      El correo no es válido.
    </div>

    
    <ion-button expand="block" type="submit" style="margin-top: 20px;"
                [disabled]="formEmpresa.invalid">
      Registrar Empresa
    </ion-button>

  </form>
</ion-content>
